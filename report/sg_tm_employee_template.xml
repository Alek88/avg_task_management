<?xml version="1.0" encoding="UTF-8"?>

<odoo>

    <template id="sg_tm_employee_report">
        <t t-call="web.html_container">

            <t t-foreach="employee_ids" t-as="employee">
                <h2>
                    <div style="text-align:right;">
                        <strong>Employee: </strong>
                        <t t-esc="employee.get('name')"/>        
                    </div>
                </h2>
                <div>
                    <br/>
                    <strong>Tasks: </strong>
                    <table class="table-bordered"
                           style="border: 1px solid black;"
                           width="100%">
                        <tr>
                            <th>
                                <t>Project</t>
                            </th>
                            <th>
                                <t>Author</t>
                            </th>
                            <th>
                                <t>Status</t>
                            </th>
                            <th>
                                <t>Task date</t>
                            </th>
                            <th>
                                <t>Duration</t>
                            </th>
                            <th>
                                <t>Description</t>
                            </th>
                        </tr>
                            <t t-set="task_history_ids" t-value="employee.get('task_history_ids')"/>
                            <t t-foreach="task_history_ids" t-as="task_history_id">
                                <t t-esc="task_history_id"/> 
                                <!-- 
                                <t t-set="task_history" 
                                    t-value="object.env['sg.tm.task.history'].search([('id', 'in', 'task_history_id')], limit=1)"/> 
                                -->
                            <tr style="border: 1px solid black;"> 
                                <th tyle="border: 1px solid black;"> 
                                    <!-- 
                                        <t t-esc="task_history"/>  
                                    -->   
                                </th>
                            </tr>
                        </t>         
                    </table>
                </div>
                <br/>
                <!-- 
                 <strong>Full name: </strong>
                <t t-esc="doc.name"/>
                <br/>
                <strong>Date: </strong>
                <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M:%S')"/>     
              
                -->
                 </t>
        </t>
    </template>
    
</odoo>
